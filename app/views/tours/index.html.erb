<div class="container-full">
  <div data-controller="tourlist" class="container-tours">
    <div class="container-tours-header">
      <div>
        <!-- Put search box here-->
        <%= form_tag tours_path, method: :get do %>
          <div class="row g-3">
            <div class="col-md-9">
              <%= text_field_tag :query,
                params[:query],
                class: "form-control col-md-10",
                placeholder: "Location"
              %>
            </div>
            <div class="col-md-3">
              <%= submit_tag "Search", class: "form-control btn btn-primary col-md-2" %>
            </div>
          </div>
        <% end %>
      </div>
      <h3>We found <span><%= @tours.count %> </span>tours for you</h3>
    </div>
    <!-- Tours index -->
    <!-- Tab links -->
    <div class="tab">
      <button class="tablinks" data-action="click->tourlist#toggleTab" data-target="list">List of the tours</button>
      <button class="tablinks" data-action="click->tourlist#toggleTab" data-target="more">More</button>
    </div>

    <!-- Tab content -->
    <div class="tabcontent" data-tourlist-target="list">
      <div class="tour-grid">
        <% @tours.each do |tour| %>
          <div class="user-tour-card">
            <%= render partial: "shared/tour_card", locals: {tour: tour} %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="tabcontent" data-tourlist-target="more">
      <% @tours.each do |tour| %>
          <div class="user-tour-card">
            <%= render partial: "shared/tour_card", locals: {tour: tour} %>
          </div>
        <% end %>
    </div>
  </div>

  <!-- Map -->
  <div class="map" data-controller="mapbox"
  data-mapbox-markers-value="<%= @markers.to_json %>"
  data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
</div>
